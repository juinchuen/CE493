top_v3 is modified to accomodate pid_v3